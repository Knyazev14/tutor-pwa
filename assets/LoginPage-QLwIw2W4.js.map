{"version":3,"file":"LoginPage-QLwIw2W4.js","sources":["../../src/components/ui/Card.jsx","../../src/pages/LoginPage/LoginPage.jsx"],"sourcesContent":["import React from 'react';\r\n\r\nfunction Card({ children, className = '', padding = true, ...props }) {\r\n  return (\r\n    <div\r\n      className={`bg-white rounded-xl shadow-lg ${padding ? 'p-6' : ''} hover:shadow-xl transition-shadow duration-300 ${className}`}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","import { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport Auth from '../../api/auth/api.auth.js';\r\nimport Button from '../../components/ui/Button';\r\nimport Card from '../../components/ui/Card';\r\n\r\nfunction LoginPage() {\r\n  const [email, setEmail] = useState('tutor@gmail.com');\r\n  const [password, setPassword] = useState('tutor1488');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { login } = useAuth();\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      // Используем Auth вместо fetch\r\n      const response = await Auth.login(email, password);\r\n      const { token } = response.data;\r\n      \r\n      if (token) {\r\n        login(token); // Токен уже сохранится в localStorage через AuthContext\r\n        navigate('/');\r\n      } else {\r\n        setError('Неверный email или пароль');\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Ошибка подключения к серверу');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n      <Card className=\"max-w-md mx-auto\">\r\n        <h2 className=\"text-2xl font-bold text-center mb-6\">Вход в систему</h2>\r\n        \r\n        {error && (\r\n          <div className=\"bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-sm\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        \r\n        <form onSubmit={handleLogin} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"your@email.com\"\r\n              required\r\n              disabled={loading}\r\n            />\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Пароль\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              placeholder=\"••••••••\"\r\n              required\r\n              disabled={loading}\r\n            />\r\n          </div>\r\n          \r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"secondary\"\r\n            size=\"lg\"\r\n            disabled={loading}\r\n            className=\"w-full\"\r\n          >\r\n            {loading ? 'Вход...' : 'Войти'}\r\n          </Button>\r\n        </form>\r\n        \r\n        <div className=\"mt-6 text-center\">\r\n          <Link to=\"/\" className=\"text-blue-600 hover:text-blue-700 text-sm\">\r\n            ← На главную\r\n          </Link>\r\n        </div>\r\n      </Card>\r\n  );\r\n}\r\n\r\nexport default LoginPage;"],"names":["Card","children","className","padding","props","jsx","LoginPage","email","setEmail","useState","password","setPassword","error","setError","loading","setLoading","navigate","useNavigate","login","useAuth","handleLogin","e","response","Auth","token","err","jsxs","Button","Link"],"mappings":"kFAEA,SAASA,EAAK,CAAE,SAAAC,EAAU,UAAAC,EAAY,GAAI,QAAAC,EAAU,GAAM,GAAGC,GAAS,CACpE,OACEC,EAAAA,IAAC,MAAA,CACC,UAAW,iCAAiCF,EAAU,MAAQ,EAAE,mDAAmDD,CAAS,GAC3H,GAAGE,EAEH,SAAAH,CAAA,CAAA,CAGP,CCJA,SAASK,GAAY,CACnB,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,iBAAiB,EAC9C,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAS,WAAW,EAC9C,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAS,EAAE,EAC/B,CAACK,EAASC,CAAU,EAAIN,EAAAA,SAAS,EAAK,EACtCO,EAAWC,EAAA,EACX,CAAE,MAAAC,CAAA,EAAUC,EAAA,EAEZC,EAAc,MAAOC,GAAM,CAC/BA,EAAE,eAAA,EACFN,EAAW,EAAI,EACfF,EAAS,EAAE,EAEX,GAAI,CAEF,MAAMS,EAAW,MAAMC,EAAK,MAAMhB,EAAOG,CAAQ,EAC3C,CAAE,MAAAc,GAAUF,EAAS,KAEvBE,GACFN,EAAMM,CAAK,EACXR,EAAS,GAAG,GAEZH,EAAS,2BAA2B,CAExC,OAASY,EAAK,CACZZ,EAASY,EAAI,UAAU,MAAM,SAAW,8BAA8B,CACxE,QAAA,CACEV,EAAW,EAAK,CAClB,CACF,EAEA,OACIW,EAAAA,KAAC1B,EAAA,CAAK,UAAU,mBACd,SAAA,CAAAK,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,iBAAc,EAEjEO,GACCP,EAAAA,IAAC,MAAA,CAAI,UAAU,qDACZ,SAAAO,EACH,EAGFc,EAAAA,KAAC,OAAA,CAAK,SAAUN,EAAa,UAAU,YACrC,SAAA,CAAAM,OAAC,MAAA,CACC,SAAA,CAAArB,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,QAEhE,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,MAAOE,EACP,SAAWc,GAAMb,EAASa,EAAE,OAAO,KAAK,EACxC,UAAU,yGACV,YAAY,iBACZ,SAAQ,GACR,SAAUP,CAAA,CAAA,CACZ,EACF,SAEC,MAAA,CACC,SAAA,CAAAT,EAAAA,IAAC,QAAA,CAAM,UAAU,+CAA+C,SAAA,SAEhE,EACAA,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,MAAOK,EACP,SAAWW,GAAMV,EAAYU,EAAE,OAAO,KAAK,EAC3C,UAAU,yGACV,YAAY,WACZ,SAAQ,GACR,SAAUP,CAAA,CAAA,CACZ,EACF,EAEAT,EAAAA,IAACsB,EAAA,CACC,KAAK,SACL,QAAQ,YACR,KAAK,KACL,SAAUb,EACV,UAAU,SAET,WAAU,UAAY,OAAA,CAAA,CACzB,EACF,EAEAT,EAAAA,IAAC,MAAA,CAAI,UAAU,mBACb,SAAAA,EAAAA,IAACuB,EAAA,CAAK,GAAG,IAAI,UAAU,4CAA4C,SAAA,cAAA,CAEnE,CAAA,CACF,CAAA,EACF,CAEN"}